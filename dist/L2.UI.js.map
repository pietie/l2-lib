{"version":3,"file":"L2.UI.js","sourceRoot":"","sources":["../L2-Lib/L2.UI.ts"],"names":[],"mappings":"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","sourcesContent":["// TODO: Can we get rid of this __extends?\r\nvar __extends = (this && this.__extends) || function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; function __() { this.constructor = d; } d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __()); };\r\n\r\n// TODO: Get rid of jQuery dependency!!!\r\n\r\ndeclare namespace DataTables {\r\n    export interface Settings {\r\n        columns?: any;\r\n    }\r\n    \r\n\r\n}\r\n\r\ndeclare var $: any;\r\n\r\ninterface JQuery { }\r\ninterface ISprocExecGeneric0<T, U> { }\r\n\r\ndeclare module DAL {\r\n    export interface Sproc { }\r\n    export interface UDF { }\r\n}\r\n\r\nexport { DataTables, JQuery, DAL };\r\n\r\nexport class UI {\r\n\r\n    private static IsNullOrEmpty(val: string):boolean {\r\n        return val == null || val == \"\";\r\n    }\r\n\r\n    static A = function (options?: AnchorOptions) {\r\n\r\n        try {\r\n\r\n            var settings = {\r\n                text: \"\",\r\n                href: null,\r\n                visible: true,\r\n                cssClass: null,\r\n                target: null\r\n\r\n            };\r\n\r\n            __extends(settings, options);\r\n\r\n            var $a = $(\"<a></a>\");\r\n\r\n            if (!UI.IsNullOrEmpty(settings.cssClass)) {\r\n                $a.attr(\"class\", settings.cssClass);\r\n            }\r\n\r\n            if (!UI.IsNullOrEmpty(settings.target)) {\r\n                $a.attr(\"target\", settings.target);\r\n            }\r\n\r\n            ////////////////\r\n            // HREF\r\n            ////////////////\r\n            if (!UI.IsNullOrEmpty(settings.href)) {\r\n\r\n                if (typeof (settings.href) === \"string\") {\r\n                    $a.attr(\"href\", settings.href);\r\n                }\r\n                else if (typeof (settings.href) === \"object\") {\r\n\r\n                    if (typeof (settings.href.func) != \"undefined\") {\r\n                        var parmCsv = \"\";\r\n\r\n                        if (typeof (settings.href.parms) === \"object\" && typeof (settings.href.parms.join) != \"undefined\")// assume array?\r\n                        {\r\n                            var ar = [];\r\n\r\n                            for (var e in settings.href.parms) {\r\n                                ar.push(JSON.stringify(settings.href.parms[e]));\r\n                            }\r\n\r\n                            parmCsv = ar.join();\r\n\r\n                        } else if (typeof (settings.href.parms) != \"undefined\") // assume single parameter\r\n                        {\r\n                            parmCsv = settings.href.parms.toString();\r\n                        }\r\n\r\n                        $a.attr(\"href\", \"javascript:\" + settings.href.func + \"(\" + parmCsv + \");\");\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n\r\n            $a.text(settings.text);\r\n\r\n            if (!settings.visible) $a.css({ display: \"none\" });\r\n\r\n            return $a[0].outerHTML;\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            throw e;\r\n        }\r\n\r\n    }\r\n\r\n    static NewGrid = function (options?: NewGridOptions & DataTables.Settings) {\r\n        try {\r\n\r\n            var settings: NewGridOptions = {\r\n                target: null,\r\n                sproc: null,\r\n                data: null,\r\n                retrieve: true,\r\n                paging: false,\r\n                searching: false,\r\n                info: false,\r\n                autoGenerateColumns: false,\r\n                autoDestroy: true,\r\n                callBack: null\r\n\r\n            };\r\n\r\n            __extends(settings, options);\r\n\r\n            var waitForData = $.Deferred();\r\n\r\n            waitForData.done(function (settings: NewGridOptions & DataTables.Settings) {\r\n                // process data\r\n\r\n                if (settings.data) {\r\n\r\n                    // todo: Specify result set?\r\n                    if (settings.sproc) {\r\n                        var data = settings.data.Data.Table0;\r\n\r\n                        settings.data = data;\r\n                    }\r\n\r\n\r\n                    // auto generate columns that are not specified\r\n                    if (settings.autoGenerateColumns && settings.data.length > 0) {\r\n\r\n                        var autoColumnsLookup: any = {};\r\n                        for (var p in settings.data[0]) {\r\n                            autoColumnsLookup[p] = { data: p };\r\n                        }\r\n\r\n                        if (settings.columns) {\r\n                            for (var c in settings.columns) {\r\n                                var col = settings.columns[c];\r\n\r\n                                autoColumnsLookup[<string>col.data] = col;\r\n                            }\r\n\r\n                        }\r\n\r\n                        settings.columns = $.map(autoColumnsLookup, function (obj) { return obj; });\r\n                    }\r\n\r\n                    if (settings.autoDestroy && $.fn.dataTable.fnIsDataTable(settings.target)) {\r\n                        $(settings.target).DataTable().destroy();\r\n                        $(settings.target).html(\"\");\r\n                    }\r\n\r\n                    if (settings.target && $(settings.target).is(\"TABLE\")) {\r\n\r\n                        if ($(settings.target).find(\"thead\").length == 0) {\r\n                            // create table header on demand\r\n                            var $thead = $('<thead><tr class=\"gridHeader\"></tr></thead>');\r\n                            if (settings.columns != null) {\r\n                                for (var i = 0; i < settings.columns.length; i++) {\r\n                                    var col = settings.columns[i];\r\n\r\n                                    if (typeof (col.visible) !== \"undefined\" && !col.visible) continue;\r\n\r\n                                    var $th = $('<th></th>');\r\n\r\n                                    if (typeof (col.title) !== \"undefined\") $th.text(col.title);\r\n                                    else if (typeof (col.data) === \"string\") $th.text(<string>col.data);\r\n                                    else $th.text(\"Col \" + i);\r\n\r\n                                    $thead.find(\"tr\").append($th);\r\n\r\n\r\n                                }\r\n                            }\r\n                            $(settings.target).append($thead);\r\n                        }\r\n                    }\r\n\r\n                    // this greatly upsets DataTables if present\r\n                    delete (<any>settings).prototype;\r\n\r\n                    $(settings.target).DataTable(settings);\r\n\r\n                }\r\n\r\n                if (settings.target) {\r\n\r\n                    $(settings.target).find(\".l2CboLoading\").remove();\r\n                }\r\n            });\r\n\r\n            // does this *look* like a DAL.Sproc object?\r\n            if (settings.sproc && (<any>settings.sproc).getExecPacket) {\r\n                if (settings.target) {\r\n                    $(settings.target).append($('<div class=\"l2CboLoading\">Loading, please wait...</div>'));\r\n                }\r\n\r\n                (<any>settings.sproc).then(function (results) {\r\n                    settings.data = results;\r\n                    waitForData.resolve(settings);\r\n                });\r\n            }\r\n            else if (settings.data) {\r\n                waitForData.resolve(settings);\r\n            }\r\n            if (settings.callBack != null) {\r\n                settings.callBack();\r\n            }\r\n        }\r\n        catch (ex) {\r\n            console.error(ex);\r\n            throw ex;\r\n        }\r\n    };\r\n\r\n    static NewCbo(options?: NewCboOptions) {\r\n\r\n        // initialise settings with defaults\r\n        let settings: NewCboOptions = {\r\n            id: null,\r\n            name: null,\r\n            chosen: true,\r\n            target: null,\r\n            sproc: null,\r\n            data: null,   // do we need both data and sproc? Are they mutually exclusive?\r\n            txt: null, // displayField\r\n            val: null,  // valueField\r\n            attr: null, // array of additional data attributes to set \r\n            defaultItemText: null, // e.g. could be \"(Select)\"\r\n            defaultItemValue: null,\r\n            selectedValue: null, // initial selected value\r\n            autoDestroy: true,\r\n            multiSelect: false\r\n        };\r\n\r\n        __extends(settings, options);\r\n\r\n        if (settings.chosen && !settings.target) {\r\n            throw \"If chosen=true then a target container element needs to be specified.\";\r\n        }\r\n\r\n        var $cbo;\r\n        // TODO: Replace with DOM code??\r\n        if (!settings.multiSelect) $cbo = $(\"<select style='width:100%'/>\");\r\n        else $cbo = $(\"<select style='width:100%' multiple/>\");\r\n\r\n        if (settings.id) $cbo.attr(\"id\", settings.id);\r\n        if (settings.name) $cbo.attr(\"name\", settings.name);\r\n\r\n        let waitForData = $.Deferred();\r\n\r\n        waitForData.done((settings: NewCboOptions) => {\r\n            // process data\r\n\r\n            if (settings.defaultItemText) {\r\n                var $op = $(\"<option/>\").text(settings.defaultItemText).attr(\"value\", settings.defaultItemValue);\r\n                $cbo.append($op);\r\n            }\r\n            if (settings.data) {\r\n\r\n                var data: any/*ApiResponse<any, any>*/ = settings.data;\r\n\r\n                if (data && typeof (data.Data) !== \"undefined\") data = data.Data.Table0;\r\n\r\n\r\n                for (var e in data) {\r\n                    var row = data[e];\r\n\r\n                    var txtVal = row[settings.txt];\r\n\r\n                    if (txtVal == undefined && settings.txt == undefined) txtVal = \"settings.txt undefined\";\r\n\r\n                    var $op = $(\"<option/>\").text(txtVal).attr(\"value\", row[settings.val]);\r\n                    $cbo.append($op);\r\n\r\n                    // attach additional attributes if requested\r\n                    if (settings.attr && settings.attr.length > 0) {\r\n                        for (var i = 0; i < settings.attr.length; i++) {\r\n                            var aName = settings.attr[i];\r\n\r\n                            if (row[aName] !== undefined) $op.data(aName, row[aName]);\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n            }\r\n\r\n            if (settings.target) {\r\n                if (settings.id && settings.autoDestroy) {\r\n                    $(settings.target).find(\"#\" + settings.id).chosen(\"destroy\").remove();\r\n                    try {\r\n                        $(settings.target).find(\"#\" + settings.id + '_chzn').remove();//10/11/2016, DA: hack to remove element as does not appear to be done on line above\r\n                    }\r\n                    catch (ignore) {\r\n                        console.log(ignore);\r\n                    }\r\n                }\r\n                $(settings.target).find(\".l2CboLoading\").remove();\r\n                $(settings.target).append($cbo);\r\n            }\r\n\r\n            if (settings.selectedValue) {\r\n                $cbo.val(settings.selectedValue);\r\n            }\r\n\r\n            if (settings.chosen) {\r\n                $cbo.chosen({ width: \"100%\" });\r\n            }\r\n\r\n            setTimeout(function () {\r\n                try { $cbo.trigger(\"change\"); }\r\n                catch (e) {\r\n                    // TODO: handle with registered error handler?\r\n                    throw e;\r\n                }\r\n            }, 0);\r\n        });\r\n\r\n\r\n        if (settings.sproc && (<any>settings.sproc).getExecPacket) {\r\n\r\n            if (settings.target) {\r\n                $(settings.target).append($('<div class=\"l2CboLoading\">Loading, please wait...</div>'));\r\n            }\r\n\r\n            (<any>settings.sproc).then((results) => {\r\n                settings.data = results;\r\n                waitForData.resolve(settings);\r\n            });\r\n        }\r\n        else if (settings.data) {\r\n            waitForData.resolve(settings);\r\n        }\r\n\r\n\r\n        return $cbo;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport interface NewCboOptions {\r\n    id?: string;\r\n    name?: string;\r\n    chosen?: boolean;\r\n    target?: string | HTMLElement | JQuery;\r\n    sproc?: DAL.Sproc | DAL.UDF /*| ISprocExecGeneric0<any, any>*/\r\n    data?: any;   // do we need both data and sproc? Are they mutually exclusive?\r\n    txt?: string; // displayField\r\n    val?: string;  // valueField\r\n    attr?: any[]; // array of additional data attributes to set \r\n    defaultItemText?: string; // e.g. could be \"(Select)\"\r\n    defaultItemValue?: any;\r\n    selectedValue?: any; // initial selected value\r\n    autoDestroy?: boolean;\r\n    multiSelect?: boolean;\r\n}\r\n\r\nexport interface NewGridOptions {\r\n    target?: string | HTMLElement | JQuery | any;\r\n    sproc?: DAL.Sproc | DAL.UDF /*| ISprocExecGeneric0<any, any>*/\r\n    data?: any;\r\n    retrieve?: boolean;\r\n    paging?: boolean;\r\n    searching?: boolean;\r\n    info?: boolean;\r\n    autoGenerateColumns?: boolean;\r\n    autoDestroy?: boolean;\r\n    callBack?: () => void;\r\n    //columns?: any[];\r\n}\r\n\r\nexport interface AnchorOptions {\r\n    text?: string;\r\n    href?: string | Object;\r\n    visible?: boolean;\r\n    cssClass?: string;\r\n    target?: string | HTMLElement | JQuery;\r\n}\r\n\r\n\r\n\r\n//export default UI;"]}