{"version":3,"file":"L2.UI.js","sourceRoot":"","sources":["../L2-Lib/L2.UI.ts"],"names":[],"mappings":"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","sourcesContent":["// TODO: Can we get rid of this __extends?\r\nvar __extends = (this && this.__extends) || function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; function __() { this.constructor = d; } d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __()); };\r\n\r\n// TODO: Get rid of jQuery dependency!!!\r\n\r\ndeclare namespace DataTables {\r\n    export interface Settings {\r\n        columns?: any;\r\n    }\r\n    \r\n\r\n}\r\n\r\ndeclare var $: any;\r\n\r\ninterface JQuery { }\r\ninterface ISprocExecGeneric0<T, U> { }\r\n\r\ndeclare module DAL {\r\n    export interface Sproc { }\r\n    export interface UDF { }\r\n}\r\n\r\nexport { DataTables, JQuery, DAL };\r\n\r\nexport class UI {\r\n\r\n    private static IsNullOrEmpty(val: string):boolean {\r\n        return val == null || val == \"\";\r\n    }\r\n\r\n    static A = function (options?: AnchorOptions) {\r\n\r\n        try {\r\n\r\n            var settings = {\r\n                text: \"\",\r\n                href: null,\r\n                visible: true,\r\n                cssClass: null,\r\n                target: null\r\n\r\n            };\r\n\r\n            __extends(settings, options);\r\n\r\n            var $a = $(\"<a></a>\");\r\n\r\n            if (!UI.IsNullOrEmpty(settings.cssClass)) {\r\n                $a.attr(\"class\", settings.cssClass);\r\n            }\r\n\r\n            if (!UI.IsNullOrEmpty(settings.target)) {\r\n                $a.attr(\"target\", settings.target);\r\n            }\r\n\r\n            ////////////////\r\n            // HREF\r\n            ////////////////\r\n            if (!UI.IsNullOrEmpty(settings.href)) {\r\n\r\n                if (typeof (settings.href) === \"string\") {\r\n                    $a.attr(\"href\", settings.href);\r\n                }\r\n                else if (typeof (settings.href) === \"object\") {\r\n\r\n                    if (typeof (settings.href.func) != \"undefined\") {\r\n                        var parmCsv = \"\";\r\n\r\n                        if (typeof (settings.href.parms) === \"object\" && typeof (settings.href.parms.join) != \"undefined\")// assume array?\r\n                        {\r\n                            var ar = [];\r\n\r\n                            for (var e in settings.href.parms) {\r\n                                ar.push(JSON.stringify(settings.href.parms[e]));\r\n                            }\r\n\r\n                            parmCsv = ar.join();\r\n\r\n                        } else if (typeof (settings.href.parms) != \"undefined\") // assume single parameter\r\n                        {\r\n                            parmCsv = settings.href.parms.toString();\r\n                        }\r\n\r\n                        $a.attr(\"href\", \"javascript:\" + settings.href.func + \"(\" + parmCsv + \");\");\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n\r\n            $a.text(settings.text);\r\n\r\n            if (!settings.visible) $a.css({ display: \"none\" });\r\n\r\n            return $a[0].outerHTML;\r\n        }\r\n        catch (e) {\r\n            console.error(e);\r\n            throw e;\r\n        }\r\n\r\n    }\r\n\r\n    static NewGrid = function (options?: NewGridOptions & DataTables.Settings) {\r\n        try {\r\n\r\n            var settings: NewGridOptions = {\r\n                target: null,\r\n                sproc: null,\r\n                data: null,\r\n                retrieve: true,\r\n                paging: false,\r\n                searching: false,\r\n                info: false,\r\n                autoGenerateColumns: false,\r\n                autoDestroy: true,\r\n                callBack: null\r\n\r\n            };\r\n\r\n            __extends(settings, options);\r\n\r\n            var waitForData = $.Deferred();\r\n\r\n            waitForData.done(function (settings: NewGridOptions & DataTables.Settings) {\r\n                // process data\r\n\r\n                if (settings.data) {\r\n\r\n                    // todo: Specify result set?\r\n                    if (settings.sproc) {\r\n                        var data = settings.data.Data.Table0;\r\n\r\n                        //window.DAL.TransformResults(data);\r\n                        settings.data = data;\r\n                    }\r\n\r\n\r\n                    // auto generate columns that are not specified\r\n                    if (settings.autoGenerateColumns && settings.data.length > 0) {\r\n\r\n                        var autoColumnsLookup: any = {};\r\n                        for (var p in settings.data[0]) {\r\n                            autoColumnsLookup[p] = { data: p };\r\n                        }\r\n\r\n                        if (settings.columns) {\r\n                            for (var c in settings.columns) {\r\n                                var col = settings.columns[c];\r\n\r\n                                autoColumnsLookup[<string>col.data] = col;\r\n                            }\r\n\r\n                        }\r\n\r\n                        settings.columns = $.map(autoColumnsLookup, function (obj) { return obj; });\r\n                    }\r\n\r\n                    if (settings.autoDestroy && $.fn.dataTable.fnIsDataTable(settings.target)) {\r\n                        $(settings.target).DataTable().destroy();\r\n                        $(settings.target).html(\"\");\r\n                    }\r\n\r\n                    if (settings.target && $(settings.target).is(\"TABLE\")) {\r\n\r\n                        if ($(settings.target).find(\"thead\").length == 0) {\r\n                            // create table header on demand\r\n                            var $thead = $('<thead><tr class=\"gridHeader\"></tr></thead>');\r\n                            if (settings.columns != null) {\r\n                                for (var i = 0; i < settings.columns.length; i++) {\r\n                                    var col = settings.columns[i];\r\n\r\n                                    if (typeof (col.visible) !== \"undefined\" && !col.visible) continue;\r\n\r\n                                    var $th = $('<th></th>');\r\n\r\n                                    if (typeof (col.title) !== \"undefined\") $th.text(col.title);\r\n                                    else if (typeof (col.data) === \"string\") $th.text(<string>col.data);\r\n                                    else $th.text(\"Col \" + i);\r\n\r\n                                    $thead.find(\"tr\").append($th);\r\n\r\n\r\n                                }\r\n                            }\r\n                            $(settings.target).append($thead);\r\n                        }\r\n                    }\r\n\r\n                    // this greatly upsets DataTables if present\r\n                    delete (<any>settings).prototype;\r\n\r\n                    $(settings.target).DataTable(settings);\r\n\r\n                }\r\n\r\n                if (settings.target) {\r\n\r\n                    $(settings.target).find(\".l2CboLoading\").remove();\r\n                }\r\n            });\r\n\r\n            // does this *look* like a DAL.Sproc object?\r\n            if (settings.sproc && (<any>settings.sproc).getExecPacket) {\r\n                if (settings.target) {\r\n                    $(settings.target).append($('<div class=\"l2CboLoading\">Loading, please wait...</div>'));\r\n                }\r\n\r\n                (<any>settings.sproc).then(function (results) {\r\n                    settings.data = results;\r\n                    waitForData.resolve(settings);\r\n                });\r\n            }\r\n            else if (settings.data) {\r\n                waitForData.resolve(settings);\r\n            }\r\n            if (settings.callBack != null) {\r\n                settings.callBack();\r\n            }\r\n        }\r\n        catch (ex) {\r\n            console.error(ex);\r\n            throw ex;\r\n        }\r\n    };\r\n\r\n    static NewCbo(options?: NewCboOptions) {\r\n\r\n        // intialise settings with defaults\r\n        let settings: NewCboOptions = {\r\n            id: null,\r\n            name: null,\r\n            chosen: true,\r\n            target: null,\r\n            sproc: null,\r\n            data: null,   // do we need both data and sproc? Are they mutually exclusive?\r\n            txt: null, // displayField\r\n            val: null,  // valueField\r\n            attr: null, // array of additional data attributes to set \r\n            defaultItemText: null, // e.g. could be \"(Select)\"\r\n            defaultItemValue: null,\r\n            selectedValue: null, // initial selected value\r\n            autoDestroy: true,\r\n            multiSelect: false\r\n        };\r\n\r\n        __extends(settings, options);\r\n\r\n        if (settings.chosen && !settings.target) {\r\n            throw \"If chosen=true then a target container element needs to be specified.\";\r\n        }\r\n\r\n        var $cbo;\r\n        // TODO: Replace with DOM code??\r\n        if (!settings.multiSelect) $cbo = $(\"<select style='width:100%'/>\");\r\n        else $cbo = $(\"<select style='width:100%' multiple/>\");\r\n\r\n        if (settings.id) $cbo.attr(\"id\", settings.id);\r\n        if (settings.name) $cbo.attr(\"name\", settings.name);\r\n\r\n        var waitForData = $.Deferred();\r\n\r\n        waitForData.done((settings: NewCboOptions) => {\r\n            // process data\r\n\r\n            if (settings.defaultItemText) {\r\n                var $op = $(\"<option/>\").text(settings.defaultItemText).attr(\"value\", settings.defaultItemValue);\r\n                $cbo.append($op);\r\n            }\r\n            if (settings.data) {\r\n\r\n                var data: any/*ApiResponse<any, any>*/ = settings.data;\r\n\r\n                if (data && typeof (data.Data) !== \"undefined\") data = data.Data.Table0;\r\n\r\n\r\n                for (var e in data) {\r\n                    var row = data[e];\r\n\r\n                    var txtVal = row[settings.txt];\r\n\r\n                    if (txtVal == undefined && settings.txt == undefined) txtVal = \"settings.txt undefined\";\r\n\r\n                    var $op = $(\"<option/>\").text(txtVal).attr(\"value\", row[settings.val]);\r\n                    $cbo.append($op);\r\n\r\n                    // attach additional attributes if requested\r\n                    if (settings.attr && settings.attr.length > 0) {\r\n                        for (var i = 0; i < settings.attr.length; i++) {\r\n                            var aName = settings.attr[i];\r\n\r\n                            if (row[aName] !== undefined) $op.data(aName, row[aName]);\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n            }\r\n\r\n            if (settings.target) {\r\n                if (settings.id && settings.autoDestroy) {\r\n                    $(settings.target).find(\"#\" + settings.id).chosen(\"destroy\").remove();\r\n                    try {\r\n                        $(settings.target).find(\"#\" + settings.id + '_chzn').remove();//10/11/2016, DA: hack to remove element as does not appear to be done on line above\r\n                    }\r\n                    catch (ignore) {\r\n                        console.log(ignore);\r\n                    }\r\n                }\r\n                $(settings.target).find(\".l2CboLoading\").remove();\r\n                $(settings.target).append($cbo);\r\n            }\r\n\r\n            if (settings.selectedValue) {\r\n                $cbo.val(settings.selectedValue);\r\n            }\r\n\r\n            if (settings.chosen) {\r\n                $cbo.chosen({ width: \"100%\" });\r\n            }\r\n\r\n            setTimeout(function () {\r\n                try { $cbo.trigger(\"change\"); }\r\n                catch (e) {\r\n                    // TODO: handle with registered error handler?\r\n                    throw e;\r\n                }\r\n            }, 0);\r\n        });\r\n\r\n\r\n        if (settings.sproc && (<any>settings.sproc).getExecPacket) {\r\n\r\n            if (settings.target) {\r\n                $(settings.target).append($('<div class=\"l2CboLoading\">Loading, please wait...</div>'));\r\n            }\r\n\r\n            (<any>settings.sproc).then((results) => {\r\n                settings.data = results;\r\n                waitForData.resolve(settings);\r\n            });\r\n        }\r\n        else if (settings.data) {\r\n            waitForData.resolve(settings);\r\n        }\r\n\r\n\r\n        return $cbo;\r\n    }\r\n\r\n\r\n}\r\n\r\nexport interface NewCboOptions {\r\n    id?: string;\r\n    name?: string;\r\n    chosen?: boolean;\r\n    target?: string | HTMLElement | JQuery;\r\n    sproc?: DAL.Sproc | DAL.UDF /*| ISprocExecGeneric0<any, any>*/\r\n    data?: any;   // do we need both data and sproc? Are they mutually exclusive?\r\n    txt?: string; // displayField\r\n    val?: string;  // valueField\r\n    attr?: any[]; // array of additional data attributes to set \r\n    defaultItemText?: string; // e.g. could be \"(Select)\"\r\n    defaultItemValue?: any;\r\n    selectedValue?: any; // initial selected value\r\n    autoDestroy?: boolean;\r\n    multiSelect?: boolean;\r\n}\r\n\r\nexport interface NewGridOptions {\r\n    target?: string | HTMLElement | JQuery | any;\r\n    sproc?: DAL.Sproc | DAL.UDF /*| ISprocExecGeneric0<any, any>*/\r\n    data?: any;\r\n    retrieve?: boolean;\r\n    paging?: boolean;\r\n    searching?: boolean;\r\n    info?: boolean;\r\n    autoGenerateColumns?: boolean;\r\n    autoDestroy?: boolean;\r\n    callBack?: () => void;\r\n    //columns?: any[];\r\n}\r\n\r\nexport interface AnchorOptions {\r\n    text?: string;\r\n    href?: string | Object;\r\n    visible?: boolean;\r\n    cssClass?: string;\r\n    target?: string | HTMLElement | JQuery;\r\n}\r\n\r\n\r\n\r\n//export default UI;"]}